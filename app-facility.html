<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ä¼šå“¡å°‚ç”¨ãƒšãƒ¼ã‚¸ï¼ˆæ–½è¨­ã‚±ã‚¢ãƒãƒå‘ã‘ï¼‰ï½œã‚„ã•ã—ã„AIã‚·ãƒªãƒ¼ã‚º</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: "M PLUS Rounded 1c", sans-serif;
  background: #e9f6fb;
}

/* ğŸ”“ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ */
.logout-btn {
  position: fixed;
  top: 70px;
  right: 20px;
  background: #2a6f97;
  color: white;
  padding: 10px 18px;
  border-radius: 14px;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 1000;
}
.logout-btn:hover { opacity: 0.9; }

/* â­ ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒœã‚¿ãƒ³ */
.mypage-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #2a6f97;
  color: white;
  padding: 10px 18px;
  border-radius: 14px;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 1000;
}
.mypage-btn:hover { opacity: 0.9; }

.container {
  max-width: 900px;
  margin: 40px auto;
  background: #ffffff;
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

h1 {
  text-align: center;
  color: #2a6f97;
  font-size: 32px;
  margin-bottom: 10px;
}

.powered {
  text-align: center;
  font-size: 16px;
  color: #777;
  margin-bottom: 30px;
}

.section { margin-top: 40px; }
.section-title {
  font-size: 24px;
  color: #2a6f97;
  margin-bottom: 15px;
}

.tool-box {
  background: #f7fbff;
  border-radius: 14px;
  padding: 20px;
  border: 1px solid #dfeef7;
  margin-top: 20px;
}

.tool-title {
  font-size: 20px;
  color: #2a6f97;
  margin-bottom: 8px;
  font-weight: bold;
}

.tool-desc {
  font-size: 16px;
  color: #444;
  line-height: 1.8;
}

.tool-status {
  margin-top: 8px;
  font-size: 14px;
  color: #666;
}

.cta-btn {
  width: 100%;
  height: 70px;
  font-size: 22px;
  border: none;
  border-radius: 16px;
  margin-top: 25px;
  cursor: pointer;
  background: #2a6f97;
  color: white;
}

.disabled-btn {
  background: #b0c7d6;
  cursor: default;
}

.link-box {
  margin-top: 40px;
  text-align: center;
  font-size: 16px;
}
.link-box a {
  color: #2a6f97;
  text-decoration: none;
  margin: 0 12px;
  font-weight: bold;
}
.link-box a:hover { text-decoration: underline; }

.footer-links {
  text-align: center;
  margin-top: 40px;
  font-size: 14px;
  color: #777;
}
.footer-links a {
  color: #777;
  text-decoration: none;
  margin: 0 10px;
}
.footer-links a:hover { text-decoration: underline; }
</style>
</head>

<body>

<!-- â­ ãƒã‚¤ãƒšãƒ¼ã‚¸ -->
<div class="mypage-btn" onclick="goMyPage()">ãƒã‚¤ãƒšãƒ¼ã‚¸</div>

<!-- ğŸ”“ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ -->
<div class="logout-btn" onclick="logout()">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</div>

<div class="container">
  <h1>ä¼šå“¡å°‚ç”¨ãƒšãƒ¼ã‚¸ï¼ˆæ–½è¨­ã‚±ã‚¢ãƒãƒå‘ã‘ï¼‰</h1>
  <div class="powered">ã‚„ã•ã—ã„AIã‚·ãƒªãƒ¼ã‚ºï½œæ–½è¨­ã‚±ã‚¢ãƒãƒå‘ã‘</div>

  <!-- =====================
       ç¾åœ¨åˆ©ç”¨å¯èƒ½ãªAI
  ====================== -->
  <div class="section">
    <div class="section-title">ç¾åœ¨ã”åˆ©ç”¨ã„ãŸã ã‘ã‚‹AI</div>

    <div class="tool-box">
      <div class="tool-title">âœ… æ–½è¨­ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°è©•ä¾¡æ•´ç†AI</div>
      <div class="tool-desc">
        æ–½è¨­ã‚±ã‚¢ãƒãƒãŒè¡Œã£ãŸãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°è©•ä¾¡ã‚’ã€<br>
        å®Ÿåœ°æŒ‡å°ãƒ»ç›£æŸ»ã§èª¬æ˜ã§ãã‚‹å½¢ã«æ•´ç†ã™ã‚‹AIã§ã™ã€‚<br>
        åˆ¤æ–­ã¯è¡Œã‚ãšã€è©•ä¾¡æ•´ç†ã®ã¿ã‚’æ”¯æ´ã—ã¾ã™ã€‚
      </div>
      <div class="tool-status">ã€ç¾åœ¨ã”åˆ©ç”¨å¯èƒ½ã€‘</div>

      <button class="cta-btn"
        onclick="location.href='index-facility-pro.html?from=app'">
        è©•ä¾¡æ•´ç†AIã‚’ä½¿ã†
      </button>
    </div>
  </div>

  <!-- =====================
       ä»Šå¾Œè¿½åŠ äºˆå®šã®AI
  ====================== -->
  <div class="section">
    <div class="section-title">ä»Šå¾Œã”åˆ©ç”¨ã„ãŸã ã‘ã‚‹äºˆå®šã®AIï¼ˆé–‹ç™ºä¸­ï¼‰</div>

    <div class="tool-box">
      <div class="tool-title">ğŸ“ ã‚µãƒ¼ãƒ“ã‚¹æ‹…å½“è€…ä¼šè­° è¦ç‚¹æ•´ç†AIï¼ˆæ–½è¨­å‘ã‘ï¼‰</div>
      <div class="tool-desc">
        å¤šè·ç¨®ä¼šè­°ã®è¦ç‚¹ã‚’æ•´ç†ã—ã€<br>
        æ–½è¨­ã‚±ã‚¢ãƒãƒå‘ã‘ã®è¨˜éŒ²ã¨ã—ã¦ã¾ã¨ã‚ã¾ã™ã€‚
      </div>
      <div class="tool-status">ã€é–‹ç™ºä¸­ã€‘</div>
      <button class="cta-btn disabled-btn">æº–å‚™ä¸­</button>
    </div>

    <div class="tool-box">
      <div class="tool-title">ğŸ§  æ–½è¨­ã‚±ã‚¢ãƒ—ãƒ©ãƒ³ åˆ¤æ–­ç†ç”±è¨€èªåŒ–AI</div>
      <div class="tool-desc">
        ã‚±ã‚¢ãƒ—ãƒ©ãƒ³ä½œæˆæ™‚ã®åˆ¤æ–­ç†ç”±ã‚’ã€<br>
        èª¬æ˜è²¬ä»»ã‚’æ„è­˜ã—ãŸæ–‡ç« ã¨ã—ã¦æ•´ç†ã—ã¾ã™ã€‚
      </div>
      <div class="tool-status">ã€é–‹ç™ºä¸­ã€‘</div>
      <button class="cta-btn disabled-btn">æº–å‚™ä¸­</button>
    </div>
  </div>

  <div class="link-box">
    <a href="status.html">â–¶ åˆ©ç”¨çŠ¶æ³ãƒ»å¥‘ç´„ãƒ—ãƒ©ãƒ³ã‚’è¦‹ã‚‹</a>
    <a href="lp-facility.html">â–¶ ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹ãƒšãƒ¼ã‚¸ã¸</a>
  </div>

  <div class="footer-links">
    <a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
    <a href="terms.html">åˆ©ç”¨è¦ç´„</a>
    <a href="tokusho.html">ç‰¹å®šå•†å–å¼•æ³•è¡¨è¨˜</a>
  </div>
</div>

<script>
/* =============================
   ğŸ” ãƒ­ã‚°ã‚¤ãƒ³ãƒã‚§ãƒƒã‚¯
============================= */
(async () => {
  try {
    const user_id = localStorage.getItem("auth_user_id");
    const token = localStorage.getItem("login_session_token");

    if (!user_id || !token) {
      return (window.location.href = "login.html");
    }

    const res = await fetch("/api/auth-guard", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ user_id, token }),
    });

    const data = await res.json();

    if (!data.valid) {
      localStorage.setItem(
        "forced_logout_reason",
        "ä»–ã®ç«¯æœ«ã§ãƒ­ã‚°ã‚¤ãƒ³ã•ã‚ŒãŸãŸã‚ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ"
      );
      localStorage.removeItem("auth_user_id");
      localStorage.removeItem("login_session_token");
      return (window.location.href = "login.html");
    }
  } catch (e) {
    window.location.href = "login.html";
  }
})();

/* â­ ãƒã‚¤ãƒšãƒ¼ã‚¸é·ç§» */
function goMyPage() {
  sessionStorage.setItem("fromApp", "1");
  location.href = "mypage.html";
}

/* ğŸ”“ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ */
function logout() {
  localStorage.removeItem("auth_user_id");
  localStorage.removeItem("login_session_token");
  location.href = "login.html";
}
</script>

</body>
</html>
